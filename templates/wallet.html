{% extends "layout.html" %}
{% block styles %}
    <link rel="stylesheet" href="{{ url_for('static', filename='css/wallet.css') }}?v=10">
{% endblock %}
{% block content %}

    <div class="wallet-container fade-in">

        <div class="wallet-header slide-down">
            <h1 class="page-title">My Wallet</h1>
            <p class="page-subtitle">Manage your balance with ease</p>
        </div>

        <div class="wallet-grid">

            <div class="balance-card glass-card zoom-in">
                <h2>Current Balance</h2>
                <p class="balance-amount" id="walletBalance">₹{{ balance }}</p>

                <div class="wallet-actions">
                    <button class="btn-primary glow-btn" id="depositBtn">Deposit</button>
                    <button class="btn-danger glow-btn" id="withdrawBtn">Withdraw</button>
                </div>
            </div>

            <div class="limit-card glass-card fade-up">
                <h3>Monthly Limit</h3>
                {% if limit %}
                    <p class="limit-value">₹ {{ limit }}</p>
                {% else %}
                    <p class="limit-value empty">No limit set</p>
                {% endif %}
            </div>
        </div>

        <div class="transaction-history fade-up">
            <h3>Recent Transactions</h3>

            {% if history and history|length > 0 %}
                <div class="transactions-list" id="historyList">

                    {% for tx in history %}
                        <div class="transaction-item slide-right">
                            <div class="tx-left">
                                <span class="tx-category">{{ tx.category }}</span>
                                <p class="tx-date">{{ tx.date }}</p>
                            </div>

                            <div class="tx-right">
                                <p class="tx-amount {% if tx.type == 'withdraw' %}negative{% else %}positive{% endif %}">
                                    {% if tx.type == 'withdraw' %}-{% else %}+{% endif %}₹{{ tx.amount }}
                                </p>
                            </div>
                        </div>
                    {% endfor %}

                </div>

            {% else %}
                <div class="empty-state fade-in">
                    <img src="{{ url_for('static', filename='img/wallet_empty.png') }}" class="empty-img">
                    <p class="empty-text">No transactions yet. Start by depositing or withdrawing.</p>
                </div>
            {% endif %}

        </div>

    </div>

    <script src="{{ url_for('static', filename='js/wallet.js') }}"></script>

{% endblock %}
